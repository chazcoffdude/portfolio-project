    <!DOCTYPE html>
<html lang="en">
<head>
  <!--https://w3bits.com/css-spritesheet-animation/ source of help-->
    <style>

        @font-face {
            font-family: hannad;
            src: url(fonts/myhandwriting.ttf);
            background-color: black;
        }
       body{
           border-spacing: 0;
           margin:0;
           background-color: rgb(0, 0, 0);
           background-image: url("images/mudwalltexture.png");
           border-image-repeat:round;
           background-size:150px;


           font-family: hannad;
           text-align: center;
       }
       div{
           font-size: 36px;
           font-weight: bold;
       }
   
@keyframes catwalk {
  100% { background-position: -2393px 0; }
}
    </style>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeofCoffman.com</title>
        <!--<br>
        <h1 style="text-align: center; font-size: 46px;">i aM coffMan's portfolio.</h1>
        <legend><div>link Container</div></legend>
        <br>
        <a href="projects/Climbing/index1.html">life Ladder</a>
        <br>
        //https://mr-easy.github.io/2017-06-26-creating-spritesheet-animation-in-html5-canvas-using-javascript/
        <a href="projects/RPS/index2.html">ROCK PAPER SCISSORS</a>
        -->
  
    
    <script src="jss/script.js">


    </script>


    <script>

        //0B0B0B0B0 KEYDOWN FUNCTION
        window.addEventListener("keydown", function (event) {
          if (event.defaultPrevented) {
            return; // Do nothing if the event was already processed
          }
          switch (event.key.toLocaleLowerCase()) {

            case "e":

            interactKey("images/halohat.png");

            break;

            case "u":

  interactKey("images/dunshat.png");
break;

            case "s":
          
            move('down');
          
              // code for "down arrow" key press.
              break;
            case "w":
           
            move('up');
           
            
              // code for "up arrow" key press.
              break;
            case "a":
          
            move('left');
         
              // code for "left arrow" key press.
              break;
            case "d":
        
            move('right');
       
              // code for "right arrow" key press.
              break;
        
            default:
              return; // Quit when this doesn't handle the key event.
          }
         //borrowed keyboard inputs, going to frankenstein with game
          event.preventDefault();
        }, true);
        
        //0B0B0B0BB0B0 KEYUP FUNCTION
        window.addEventListener("keyup", function (event) {
          if (event.defaultPrevented) {
            return; // Do nothing if the event was already processed
          }
          switch (event.key.toLocaleLowerCase()) {
            case "s":
            clearmove('down');
              // code for "down arrow" key press.
              break;
            case "w":
            clearmove('up');
              // code for "up arrow" key press.
              break;
            case "a":
            clearmove('left');
              // code for "left arrow" key press.
              break;
            case "d":
            clearmove('right');
              // code for "right arrow" key press.
              break;
        
            default:
              return; // Quit when this doesn't handle the key event.
          }
         //borrowed keyboard inputs, going to frankenstein with game
          event.preventDefault();
        }, true);
        
    
        
        </script>
        
        <style>
        canvas {
            width: 100%;
            height: 100%;
            background-color: #00000000;
        }
        </style>
        </head>
        <body onload="startGame()">
        <script>


       //varibles

       
        var objectlist = [];       
        var myGamePiece;
        var framenum = 1;
        var effect;
        var activemove = false; // timer to determine if the character is currently moving
        var halo = false;
        
        function myloop(){
          if(framenum > 9){
          
            framenum = 0;
          }
          framenum++;
          setTimeout(function(){
            
            myloop();
          
            ;}, 100);
          
          
          

        }
        myloop();

       

        function startGame() {

            //lebackground = new component(width = window.innerWidth, height = window.innerHeight, "images/mudwalltexture.png", 10, 120, "image");
            

           



            myGamePiece = new component(120, 120, "images/playeridle.png", 10, 120, "image", true);
            myGameArea.start();

            npc = new component(120, 120,"images/playeridle.png", 10, 200, "image", false);
            objectlist.push(npc);

            paper = new component(120, 120,"images/portfoliopaper.png", 50, 100, "image", false);
            objectlist.push(paper);


        }

      


        


         
        var myGameArea = {
            canvas : document.createElement("canvas"),
            start : function() {
              this.canvas.width = window.innerWidth;
              this.canvas.height = window.innerHeight;
              



                this.context = this.canvas.getContext("2d");
                document.body.insertBefore(this.canvas, document.body.childNodes[0]);
                this.frameNo = 0;
                this.interval = setInterval(updateGameArea, 20);

                
                },
            clear : function() {
            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
          
            },
            stop : function() {
                clearInterval(this.interval);
            }
        }
        //testing above
        
        //x

        
        function component(width, height, color, x, y, type, animated) {
            this.type = type;
            this.animated = animated
            if (type == "image") {
                this.image = new Image();
                this.image.src = color;
            }
        
            this.width = width;
            this.height = height;
            this.speedX = 0;
            this.speedY = 0;    
        
            this.x = x;
            this.y = y;    
            this.update = function() {


                
                ctx = myGameArea.context;

          

                /*if(.5*myGamePiece.y > 120){
                  myGamePiece.height = 120;
                  myGamePiece.width = 120;
                  
                }else{
                  myGamePiece.height = myGamePiece.height = .5*myGamePiece.y;
                  myGamePiece.width = myGamePiece.height = .5*myGamePiece.y;
                }*/

                
               

                if (type == "image") {
                    
                    if(this.animated == true){
                   
                    ctx.drawImage(this.image, 
                    this.x, 
                    this.y,
        
                    this.width, this.height,
                    

                        
                    

                         //for spritesheet purposes
                       );
                }else{
                ctx.drawImage(this.image, 
                this.x, 
                this.y,
                this.width, this.height, 
                );
                }
                }

               
               // if (type == "effect") {
                //    ctx.drawImage(effect, myGamePiece.x, myGamePiece.y)
               // }
                
                
                else {
                    ctx.fillStyle = color;
                    ctx.fillRect(this.x, this.y, this.width, this.height);
                }
            }
            this.newPos = function() {
            
                this.x += this.speedX;
                this.y += this.speedY;
               
            }
        }
        
        function updateGameArea() {
            myGameArea.clear();
           
            //lebackground.update();
            myGamePiece.newPos();
            myGamePiece.update(); 
         
            for(i = 0; i < objectlist.length; i++){
              if(objectlist[i] != null){
              
              objectlist[i].update();  
              }
            }
            if(effect != null && halo==true){
           
           effect.update();
          
           effect.x = myGamePiece.x;
           effect.y = myGamePiece.y - myGamePiece.height/6;
           effect.height = myGamePiece.height;
           effect.width = myGamePiece.width;
            }

          
        }
        
        function move(dir) {
            
            if (dir == "up") {myGamePiece.speedY = -3; myGamePiece.image.src = "images/bunnywalkup/walk ("+framenum+").png"}
            if (dir == "down") {myGamePiece.speedY = 3; myGamePiece.image.src = "images/bunnywalkdown/walk"+framenum+".png"}
            if (dir == "left") {myGamePiece.speedX = -3; myGamePiece.image.src = "images/bunnywalkleft/walk ("+framenum+").png"}
            if (dir == "right") {myGamePiece.speedX = 3; myGamePiece.image.src = "images/bunnywalkright/walk ("+framenum+").png"}
           
        }
        
        function clearmove(dir) {
   
            if (dir == "up") {myGamePiece.image.src = "images/bunnyidle"+dir+".png"}
            if (dir == "down") {myGamePiece.image.src = "images/playeridle"+dir+".gif"}
            if (dir == "left") {myGamePiece.image.src = "images/bunnyidle"+dir+".png"}
            if (dir == "right") {myGamePiece.image.src = "images/bunnyidle"+dir+".png"}


           //myGamePiece.image.src = "images/playeridle.png";
            if(activemove != true){
            myGamePiece.speedX = 0; 
            myGamePiece.speedY = 0; 
            }
        }

        function interactKey(hat){
            effect = new component(120, 120, hat, myGamePiece.x, myGamePiece.y, "image");
        
            if(halo==false){
                halo=true;
                console.log("Hat on");

            }else{
                halo=false;
                console.log("Hat off");
            }            
        }
    




//https://mr-easy.github.io/2017-06-26-creating-spritesheet-animation-in-html5-canvas-using-javascript/
        </script>






    
</body>
</html>
